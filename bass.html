<span id="bass_body"></span>

<script>
let bass_body_text = '';
for(let i=0;i<20;i++)
{
	bass_body_text += '<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowBass'+i+'-current" disabled><span class="pianoroll-box-check indicator"></span></label>';
}
bass_body_text += '<br>';

//pianoroll
let bass_name = ["C1","C1 up","E1","E1 up","F1","G1","G1 up","B1","B1 up",
				 "C2","C2 up","D2","D2 up","F2","F2 up","A2","A2 up",
				 "C3","C3 up","E3","E3 up","G3","G3 up","A3","A3 up",
				 "C4","C4 up","E4","E4 up","A4","A4 up"];
let bass_pointer=0;
//65='A'
for(let j=65;j<91;j++)
{
	for(let i=0;i<20;i++)
	{
		if(i<10)
		{
			if(i==0)
			{
				bass_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowBass'+i+String.fromCharCode(j)+'" name="rowBass'+i+String.fromCharCode(j)+'"><span class="pianoroll-box-check" style="font-size: 15px;">'+bass_name[bass_pointer]+'</span></label>';
				console.log(bass_pointer);
				bass_pointer++;
			}
			else
			{
				bass_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowBass'+i+String.fromCharCode(j)+'" name="rowBass'+i+String.fromCharCode(j)+'"><span class="pianoroll-box-check"></span></label>';
			}
		}
		else
		{
			bass_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowBass'+i+String.fromCharCode(j)+'" name="rowBass'+(i-10)+'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	bass_body_text += '<br>';
}

//AA,AB itd.
for(let j=65;j<70;j++)
{
	for(let i=0;i<20;i++)
	{
		if(i<10)
		{
			if(i==0)
			{
				bass_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowBass'+i+String.fromCharCode(j)+'" name="rowBass'+i+String.fromCharCode(j)+'"><span class="pianoroll-box-check" style="font-size: 15px;">'+bass_name[bass_pointer]+'</span></label>';
				bass_pointer++;
			}
			else
			{
				bass_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowBass'+i+String.fromCharCode(j)+'" name="rowBass'+i+String.fromCharCode(j)+'"><span class="pianoroll-box-check"></span></label>';
			}
		}
		else
		{
			bass_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowBass'+i+'A'+String.fromCharCode(j)+'" name="rowBass'+(i-10)+'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	bass_body_text += '<br>';
}

document.getElementById("bass_body").insertAdjacentHTML("afterbegin", bass_body_text);

</script>

		<br>
		<button onclick="playFromArrayBass()">Play</button>
		<button onclick="stopBass()">Stop</button>
		<input type="checkbox" id="loopEnabled"> Loop
		<br>
		Speed: 
		<button onclick="changeTimeBass()">Set</button>
		<input type="number" id="time" value="500"></input>
		
		
				<div style="display:none;">	
	<audio controls id="a2down" src="pianoroll/sample/Bass/arco_a2_ff_down.mp3"></audio>
	<audio controls id="a2up" src="pianoroll/sample/Bass/arco_a2_ff_up.mp3"></audio>
	
	<audio controls id="a3down" src="pianoroll/sample/Bass/arco_a3_ff_down.mp3"></audio>
	<audio controls id="a3up" src="pianoroll/sample/Bass/arco_a3_ff_up.mp3"></audio>
	
	<audio controls id="a4down" src="pianoroll/sample/Bass/arco_a4_ff_down.mp3"></audio>
	<audio controls id="a4up" src="pianoroll/sample/Bass/arco_a4_ff_up.mp3"></audio>
	
	<audio controls id="bb1down" src="pianoroll/sample/Bass/arco_bb1_ff_down.mp3"></audio>
	<audio controls id="bb1up" src="pianoroll/sample/Bass/arco_bb1_ff_up.mp3"></audio>
	
	<audio controls id="c1down" src="pianoroll/sample/Bass/arco_c1_ff_down.mp3"></audio>
	<audio controls id="c1up" src="pianoroll/sample/Bass/arco_c1_ff_up.mp3"></audio>
	
	<audio controls id="c2down" src="pianoroll/sample/Bass/arco_c2_ff_down.mp3"></audio>
	<audio controls id="c2up" src="pianoroll/sample/Bass/arco_c2_ff_up.mp3"></audio>
	
	<audio controls id="c3down" src="pianoroll/sample/Bass/arco_c3_ff_down.mp3"></audio>
	<audio controls id="c3up" src="pianoroll/sample/Bass/arco_a3_ff_up.mp3"></audio>
	
	<audio controls id="c4down" src="pianoroll/sample/Bass/arco_c4_ff_down.mp3"></audio>
	<audio controls id="c4up" src="pianoroll/sample/Bass/arco_c4_ff_up.mp3"></audio>
	
	<audio controls id="d2down" src="pianoroll/sample/Bass/arco_d2_ff_down.mp3"></audio>
	<audio controls id="d2up" src="pianoroll/sample/Bass/arco_d2_ff_up.mp3"></audio>
	
	<audio controls id="e3down" src="pianoroll/sample/Bass/arco_e3_ff_down.mp3"></audio>
	<audio controls id="e3up" src="pianoroll/sample/Bass/arco_e3_ff_up.mp3"></audio>
	
	<audio controls id="e4down" src="pianoroll/sample/Bass/arco_e4_ff_down.mp3"></audio>
	<audio controls id="e4up" src="pianoroll/sample/Bass/arco_e4_ff_up.mp3"></audio>
	
	<audio controls id="eb1down" src="pianoroll/sample/Bass/arco_eb1_ff_down.mp3"></audio>
	<audio controls id="eb1up" src="pianoroll/sample/Bass/arco_eb1_ff_up.mp3"></audio>
	
	<audio controls id="f1down" src="pianoroll/sample/Bass/arco_f1_ff_down.mp3"></audio>
	
	<audio controls id="f2down" src="pianoroll/sample/Bass/arco_f2_ff_down.mp3"></audio>
	<audio controls id="f2up" src="pianoroll/sample/Bass/arco_f2_ff_up.mp3"></audio>
	
	<audio controls id="g1down" src="pianoroll/sample/Bass/arco_g1_ff_down.mp3"></audio>
	<audio controls id="g1up" src="pianoroll/sample/Bass/arco_g1_ff_up.mp3"></audio>
	
	<audio controls id="g3down" src="pianoroll/sample/Bass/arco_g3_ff_down.mp3"></audio>
	<audio controls id="g3up" src="pianoroll/sample/Bass/arco_g3_ff_up.mp3"></audio>
	
		</div>
		
		
	<script>
		function sample_playBass(sample,timeout) {
	var audio = new Audio();
	audio.src = sample.src;
	setTimeout(function() {
		audio.play();
		setTimeout(function (){sample.currentTime=0;},timeout);
		console.log(dupaBass.split(';')[i]);
	},i*timeout);
}

var dupaBass = '';

function onButtonClickBass(character) {
	dupaBass = dupaBass + character + ';';
	updateDisplayElementBass();
}

function removeByIndexBass(index) {
	var array = dupaBass.split(';');
	array.splice(index, 1);
	dupaBass = array.join(';');
}

function onRemoveButtonClickBass(index) {
	var index = document.getElementById("user-input").value;
	removeByIndexBass(index);
	updateDisplayElementBass();
}

function onRemoveLastButtonClickBass() {
	removeByIndexBass(dupaBass.split(';').length - 1);
	updateDisplayElementBass();
}

function updateDisplayElementBass() {
	document.getElementById("display-object-id").innerHTML = dupaBass;
}

function onDisplayButtonClickBass() {
	let sample = document.getElementById("a2down");
	let sample1 = document.getElementById("a2up");
	let sample2 = document.getElementById("a3down");
	let sample3 = document.getElementById("a3up");
	let sample4 = document.getElementById("a4down");
	let sample5 = document.getElementById("a4up");
	let sample6 = document.getElementById("bb1down");
	let sample7 = document.getElementById("bb1up");
	let sample8 = document.getElementById("c1down");
	let sample9 = document.getElementById("c1up");
	let sample10 = document.getElementById("c2down");
	let sample11 = document.getElementById("c2up");
	let sample12 = document.getElementById("c3down");
	let sample13 = document.getElementById("c3up");
	let sample14 = document.getElementById("c4down");
	let sample15 = document.getElementById("c4up");
	let sample16 = document.getElementById("d2down");
	let sample17 = document.getElementById("d2up");
	let sample18 = document.getElementById("e3down");
	let sample19 = document.getElementById("e3up");
	let sample20 = document.getElementById("e4down");
	let sample21 = document.getElementById("e4up");
	let sample22 = document.getElementById("eb1down");
	let sample23 = document.getElementById("eb1up");
	let sample24 = document.getElementById("f1down");
	let sample25 = document.getElementById("f2down");
	let sample26 = document.getElementById("f2up");
	let sample27 = document.getElementById("g1down");
	let sample28 = document.getElementById("g1up");
	let sample29 = document.getElementById("g3down");
	let sample30 = document.getElementById("g3up");
	let timeout = 500;
	
	let dupaArray = dupaBass.split(';');
	for (i = 0; i < dupaArray.length; ++i) {
		switch (dupaArray[i]) {
			case 'A':
				sample_play(sample,timeout);
				break;
			case 'B':
				sample_play(sample1,timeout);
				break;
			case 'C':
				sample_play(sample2,timeout);
				break;
			case 'D':
				sample_play(sample3,timeout);
				break;
			case 'E':
				sample_play(sample4,timeout);
				break;
			case 'F':
				sample_play(sample5,timeout);
				break;
			case 'G':
				sample_play(sample6,timeout);
				break;
			case 'H':
				sample_play(sample7,timeout);
				break;
			case 'I':
				sample_play(sample8,timeout);
				break;
			case 'J':
				sample_play(sample9,timeout);
				break;
			case 'K':
				sample_play(sample10,timeout);
				break;
			case 'L':
				sample_play(sample11,timeout);
				break;
			case 'M':
				sample_play(sample12,timeout);
				break;
			case 'N':
				sample_play(sample13,timeout);
				break;
			case 'O':
				sample_play(sample14,timeout);
				break;
			case 'P':
				sample_play(sample15,timeout);
				break;
			case 'R':
				sample_play(sample16,timeout);
				break;
			case 'S':
				sample_play(sample17,timeout);
				break;
			case 'T':
				sample_play(sample18,timeout);
				break;
			case 'U':
				sample_play(sample19,timeout);
				break;
			case 'W':
				sample_play(sample20,timeout);
				break;
			case 'X':
				sample_play(sample21,timeout);
				break;
			case 'Y':
				sample_play(sample22,timeout);
				break;
			case 'Z':
				sample_play(sample23,timeout);
				break;
			case 'AA':
				sample_play(sample24,timeout);
				break;
			case 'AB':
				sample_play(sample25,timeout);
				break;
			case 'AC':
				sample_play(sample26,timeout);
				break;
			case 'AD':
				sample_play(sample27,timeout);
				break;
			case 'AE':
				sample_play(sample28,timeout);
				break;
			case 'AF':
				sample_play(sample29,timeout);
				break;
			case 'AG':
				sample_play(sample30,timeout);
				break;
			default:
				sample_play
		}
	}
}






frameTimeoutBass = 500;

stoppedBass = false;
rowsCountBass = 20;
instrumentsBass = 'A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;R;S;T;U;W;X;Y;Z;AA;AB;AC;AD;AE;AF;AG';
ABass = document.getElementById("a2down");
BBass = document.getElementById("a2up");
CBass = document.getElementById("a3down");
DBass = document.getElementById("a3up");
EBass = document.getElementById("a4down");
FBass = document.getElementById("a4up");
GBass = document.getElementById("bb1down");
HBass = document.getElementById("bb1up");
IBass = document.getElementById("c1down");
JBass = document.getElementById("c1up");
KBass = document.getElementById("c2down");
LBass = document.getElementById("c2up");
MBass = document.getElementById("c3down");
NBass = document.getElementById("c3up");
OBass = document.getElementById("c4down");
PBass = document.getElementById("c4up");
RBass = document.getElementById("d2down");
SBass = document.getElementById("d2up");
TBass = document.getElementById("e3down");
UBass = document.getElementById("e3up");
WBass = document.getElementById("e4down");
XBass = document.getElementById("e4up");
YBass = document.getElementById("eb1down");
ZBass = document.getElementById("eb1up");
AABass = document.getElementById("f1down");
ABBass = document.getElementById("f2down");
ACBass = document.getElementById("f2up");
ADBass = document.getElementById("g1down");
AEBass = document.getElementById("g1up");
AFBass = document.getElementById("g3down");
AGBass = document.getElementById("g3up");

function changeTimeBass() {
	let value = document.getElementById("time").value;
	if (value <= 10) {
		alert('Value too low');
	} else {
		frameTimeoutBass = value;
	}
}

function playSampleInstantBass(sample) {
	var audio = new Audio();
	audio.src = sample.src;
	audio.play();
}

function playInstrumentBass(instrument) {
	switch (instrument) {
		case 'A':
			playSampleInstantBass(ABass);
			break;
		case 'B':
			playSampleInstantBass(BBass);
			break;
		case 'C':
			playSampleInstantBass(CBass);
			break;
		case 'D':
			playSampleInstantBass(DBass);
			break;
		case 'E':
			playSampleInstantBass(EBass);
			break;
		case 'F':
			playSampleInstantBass(FBass);
			break;
		case 'G':
			playSampleInstantBass(GBass);
			break;
		case 'H':
			playSampleInstantBass(HBass);
			break;
		case 'I':
			playSampleInstantBass(IBass);
			break;
		case 'J':
			playSampleInstantBass(JBass);
			break;
		case 'K':
			playSampleInstantBass(KBass);
			break;
		case 'L':
			playSampleInstantBass(LBass);
			break;
		case 'M':
			playSampleInstantBass(MBass);
			break;
		case 'N':
			playSampleInstantBass(NBass);
			break;
		case 'O':
			playSampleInstantBass(OBass);
			break;
		case 'P':
			playSampleInstantBass(PBass);
			break;
		case 'R':
			playSampleInstantBass(RBass);
			break;
		case 'S':
			playSampleInstantBass(SBass);
			break;
		case 'T':
			playSampleInstantBass(TBass);
			break;
		case 'U':
			playSampleInstantBass(UBass);
			break;
		case 'W':
			playSampleInstantBass(WBass);
			break;
		case 'X':
			playSampleInstantBass(XBass);
			break;
		case 'Y':
			playSampleInstantBass(YBass);
			break;
		case 'Z':
			playSampleInstantBass(ZBass);
			break;
		case 'AA':
			playSampleInstantBass(AABass);
			break;
		case 'AB':
			playSampleInstantBass(ABBass);
			break;
		case 'AC':
			playSampleInstantBass(ACBass);
			break;
		case 'AD':
			playSampleInstantBass(ADBass);
			break;
		case 'AE':
			playSampleInstantBass(AEBass);
			break;
		case 'AF':
			playSampleInstantBass(AFBass);
			break;
		case 'AG':
			playSampleInstantBass(AGBass);
			break;
		default:
			console.log('instrument ' + instrument + ' not supported'); 
	}
}

function playFromArrayBass() {
	stoppedBass = false;
	playRowRecursiveBass(0, true);
}

function stopBass() {
	stoppedBass = true;
}

function clearIndicatorBass () {
	for(let i = 0; i < rowsCountBass; i++) {
		document.getElementById("rowBass" + i + "-current").checked = false;
	}
}

function moveIndicatorBass(index) {
	clearIndicatorBass();
	document.getElementById("rowBass" + index + "-current").checked = true;
}

function playRowRecursiveBass(whichRow) {
	if (whichRow >= rowsCountBass) {
		if(document.getElementById("loopEnabled").checked) {
			setTimeout(playRowRecursiveBass, frameTimeoutBass, 0);
		} else {
			clearIndicatorBass();
			return true;
		}
	}
	
	moveIndicatorBass(whichRow);
	
	let rowValues = getRowValuesBass(whichRow, false);
	for(let i = 0; i < rowValues.length; i++) {
		playInstrumentBass(rowValues[i]);
	}
	if (!stoppedBass) {
		setTimeout(playRowRecursiveBass, frameTimeoutBass, whichRow + 1);
	} else {
		clearIndicatorBass();
		stoppedBass = false;
	}
}

function getRowValuesBass(row, clearAfterPlay) { // row = ktora kolumna, np. 1, 4..., zwraca co tam jest zaznaczone w postaci np. 'AB', 'C', ''
	let values = '';
	let instrumentsBassTmp = instrumentsBass.split(';');
	for(let i = 0; i < instrumentsBassTmp.length; i++) {
		let selected = document.getElementById("rowBass" + row + instrumentsBassTmp[i]);
		console.log('selected 111', selected);
		if (selected.checked) {
			values = values + instrumentsBassTmp[i];
		}
		if (clearAfterPlay) {
			selected.checked = false;
		}
	}
	return values;
}

		</script>