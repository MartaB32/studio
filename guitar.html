<span id="guitar_body"></span>

<script>
let guitar_body_text = '';
for(let i=0;i<20;i++)
{
	guitar_body_text += '<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowGuitar'+i+'-current" disabled><span class="pianoroll-box-check indicator"></span></label>';
}
guitar_body_text += '<br>';

//pianoroll
let guitar_name =  [		  "E2","F2","G2","A2","B2",
					"C3","D3","E3","F3","G3","A3","B3",
					"C4","D4","E4","F4","G4","A4","B4",
					"C5","D5","E5","F5","G5"];
let guitar_pointer=0;
//65='A'
for(let j=65;j<89;j++)
{
	for(let i=0;i<20;i++)
	{
		if(i<10)
		{
			if(i==0)
			{
				guitar_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowGuitar'+i+String.fromCharCode(j)+'" name="rowGuitar'+i+String.fromCharCode(j)+'"><span class="pianoroll-box-check" style="font-size: 15px;">'+guitar_name[guitar_pointer]+'</span></label>';
				guitar_pointer++;
			}
			else
			{
				guitar_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowGuitar'+i+String.fromCharCode(j)+'" name="rowGuitar'+i+String.fromCharCode(j)+'"><span class="pianoroll-box-check"></span></label>';
			}
		}
		else
		{
			guitar_body_text += '<label class="pianoroll-box"><input type="checkbox" id="rowGuitar'+i+String.fromCharCode(j)+'" name="rowGuitar'+(i-10)+'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	guitar_body_text += '<br>';
}

document.getElementById("guitar_body").insertAdjacentHTML("afterbegin", guitar_body_text);

</script>

		<br>
		<span class="play_settings">
		<button class="playback_button" onclick="playFromArray()">Play</button>
		<button class="playback_button" onclick="stop()">Stop</button>
		<input type="checkbox" id="loopEnabled"><label> Loop</label></input>
		</span>
		
		<span class="speed_settings">Speed:  
		<input type="number" id="time" value="500"></input>
		<button class="playback_button" onclick="changeTime()">Set</button>
		</span>
		
		<div style="display:none;">	
	<audio controls id="index_A2" src="pianoroll/sample/Guitar/index_A2.mp3"></audio>
	<audio controls id="index_A3" src="pianoroll/sample/Guitar/index_A3.mp3"></audio>
	<audio controls id="index_A4" src="pianoroll/sample/Guitar/index_A4.mp3"></audio>	
	<audio controls id="index_B2" src="pianoroll/sample/Guitar/index_B2.mp3"></audio>
	<audio controls id="index_B3" src="pianoroll/sample/Guitar/index_B3.mp3"></audio>
	<audio controls id="index_B4" src="pianoroll/sample/Guitar/index_B4.mp3"></audio>	
	<audio controls id="index_Csh3" src="pianoroll/sample/Guitar/index_Csh3.mp3"></audio>
	<audio controls id="index_Csh4" src="pianoroll/sample/Guitar/index_Csh4.mp3"></audio>
	<audio controls id="index_Csh5" src="pianoroll/sample/Guitar/index_Csh5.mp3"></audio>	
	<audio controls id="index_D3" src="pianoroll/sample/Guitar/index_D3.mp3"></audio>
	<audio controls id="index_D4" src="pianoroll/sample/Guitar/index_D4.mp3"></audio>
	<audio controls id="index_D5" src="pianoroll/sample/Guitar/index_D5.mp3"></audio>	
	<audio controls id="index_E2" src="pianoroll/sample/Guitar/index_E2.mp3"></audio>
	<audio controls id="index_E3" src="pianoroll/sample/Guitar/index_E3.mp3"></audio>
	<audio controls id="index_E4" src="pianoroll/sample/Guitar/index_E4.mp3"></audio>	
	<audio controls id="index_E5" src="pianoroll/sample/Guitar/index_E5.mp3"></audio>
	<audio controls id="index_Fsh2" src="pianoroll/sample/Guitar/index_Fsh2.mp3"></audio>
	<audio controls id="index_Fsh3" src="pianoroll/sample/Guitar/index_Fsh3.mp3"></audio>	
	<audio controls id="index_Fsh4" src="pianoroll/sample/Guitar/index_Fsh4.mp3"></audio>
	<audio controls id="index_Fsh5" src="pianoroll/sample/Guitar/index_Fsh5.mp3"></audio>
	<audio controls id="index_Gsh2" src="pianoroll/sample/Guitar/index_Gsh2.mp3"></audio>	
	<audio controls id="index_G3" src="pianoroll/sample/Guitar/index_G3.mp3"></audio>	
	<audio controls id="index_G4" src="pianoroll/sample/Guitar/index_G4.mp3"></audio>
	<audio controls id="index_G5" src="pianoroll/sample/Guitar/index_G5.mp3"></audio>
	</div>
		
		
	<script>
		function sample_playGuitar(sample,timeout) {
	var audio = new Audio();
	audio.src = sample.src;
	setTimeout(function() {
		audio.play();
		setTimeout(function (){sample.currentTime=0;},timeout);
		console.log(dupaGuitar[i]);
	},i*timeout);
}

var dupaGuitar = '';

function onButtonClickGuitar(character) {
	dupaGuitar = dupaGuitar + character;
	updateDisplayElementGuitar();
}

function removeByIndexGuitar(index) {
	var array = dupaGuitar.split('');
	array.splice(index, 1);
	dupaGuitar = array.join('');
}

function onRemoveButtonClickGuitar(index) {
	var index = document.getElementById("user-input").value;
	removeByIndexGuitar(index);
	updateDisplayElementGuitar();
}

function onRemoveLastButtonClickGuitar() {
	removeByIndexGuitar(dupaGuitar.length - 1);
	updateDisplayElementGuitar();
}

function updateDisplayElementGuitar() {
	document.getElementById("display-object-id").innerHTML = dupaGuitar;
}

function onDisplayButtonClickGuitar() {
	let sample = document.getElementById("index A2");
	let sample1 = document.getElementById("index A3");
	let sample2 = document.getElementById("index A4");	
	let sample3 = document.getElementById("index B2");	
	let sample4 = document.getElementById("index B3");	
	let sample5 = document.getElementById("index B4");	
	let sample6 = document.getElementById("index Csh3");	
	let sample7 = document.getElementById("index Csh4");	
	let sample8 = document.getElementById("index Csh5");	
	let sample9 = document.getElementById("index D3");	
	let sample10 = document.getElementById("index D4");	
	let sample11 = document.getElementById("index D5");	
	let sample12 = document.getElementById("index E2");	
	let sample13 = document.getElementById("index E3");	
	let sample14 = document.getElementById("index E4");	
	let sample15 = document.getElementById("index E5");	
	let sample16 = document.getElementById("index Fsh2");	
	let sample17 = document.getElementById("index Fsh3");	
	let sample18 = document.getElementById("index Fsh4");	
	let sample19 = document.getElementById("index Fsh5");	
	let sample20 = document.getElementById("index Gsh2");	
	let sample21 = document.getElementById("index G3");	
	let sample22 = document.getElementById("index G4");	
	let sample23 = document.getElementById("index G5");
	let timeout = 500;

	for (i = 0; i < dupaGuitar.length; ++i) {
		switch (dupaGuitar[i]) {
			case 'A':
				sample_play(sample,timeout);
				break;
			case 'B':
				sample_play(sample1,timeout);
				break;
			case 'C':
				sample_play(sample2,timeout);
				break;
			case 'D':
				sample_play(sample3,timeout);
				break;
			case 'E':
				sample_play(sample4,timeout);
				break;
			case 'F':
				sample_play(sample5,timeout);
				break;
			case 'G':
				sample_play(sample6,timeout);
				break;
			case 'H':
				sample_play(sample7,timeout);
				break;
			case 'I':
				sample_play(sample8,timeout);
				break;
			case 'J':
				sample_play(sample9,timeout);
				break;
			case 'K':
				sample_play(sample10,timeout);
				break;
			case 'L':
				sample_play(sample11,timeout);
				break;
			case 'M':
				sample_play(sample12,timeout);
				break;
			case 'N':
				sample_play(sample13,timeout);
				break;
			case 'O':
				sample_play(sample14,timeout);
				break;
			case 'P':
				sample_play(sample15,timeout);
				break;
			case 'R':
				sample_play(sample16,timeout);
				break;
			case 'S':
				sample_play(sample17,timeout);
				break;
			case 'T':
				sample_play(sample18,timeout);
				break;
			case 'U':
				sample_play(sample19,timeout);
				break;
			case 'W':
				sample_play(sample20,timeout);
				break;
			case 'X':
				sample_play(sample21,timeout);
				break;
			case 'Y':
				sample_play(sample22,timeout);
				break;
			case 'Z':
				sample_play(sample23,timeout);
				break;
			default:
				sample_play
		}
	}
}






frameTimeoutGuitar = 500;

stoppedGuitar = false;
rowsCountGuitar = 20;
instrumentsGuitar = 'ABCDEFGHIJKLMNOPRSTUWXYZ';

AGuitar = document.getElementById("index A2");
BGuitar = document.getElementById("index A3");
CGuitar = document.getElementById("index A4");	
DGuitar = document.getElementById("index B2");	
EGuitar = document.getElementById("index B3");	
FGuitar = document.getElementById("index B4");	
GGuitar = document.getElementById("index Csh3");	
HGuitar = document.getElementById("index Csh4");	
IGuitar = document.getElementById("index Csh5");	
JGuitar = document.getElementById("index D3");	
KGuitar = document.getElementById("index D4");	
LGuitar = document.getElementById("index D5");	
MGuitar = document.getElementById("index E2");	
NGuitar = document.getElementById("index E3");	
OGuitar = document.getElementById("index E4");	
PGuitar = document.getElementById("index E5");	
RGuitar = document.getElementById("index Fsh2");	
SGuitar = document.getElementById("index Fsh3");	
TGuitar = document.getElementById("index Fsh4");	
UGuitar = document.getElementById("index Fsh5");	
WGuitar = document.getElementById("index Gsh2");	
XGuitar = document.getElementById("index G3");	
YGuitar = document.getElementById("index G4");	
ZGuitar = document.getElementById("index G5");

function changeTimeGuitar() {
	let value = document.getElementById("time").value;
	if (value <= 10) {
		alert('Value too low');
	} else {
		frameTimeoutGuitar = value;
	}
}

function playSampleInstantGuitar(sample) {
	var audio = new Audio();
	audio.src = sample.src;
	audio.play();
}

function playInstrumentGuitar(instrument) {
	switch (instrument) {
		case 'A':
			playSampleInstantGuitar(AGuitar);
			break;
		case 'B':
			playSampleInstantGuitar(BGuitar);
			break;
		case 'C':
			playSampleInstantGuitar(CGuitar);
			break;
		case 'D':
			playSampleInstantGuitar(DGuitar);
			break;
		case 'E':
			playSampleInstantGuitar(EGuitar);
			break;
		case 'F':
			playSampleInstantGuitar(FGuitar);
			break;
		case 'G':
			playSampleInstantGuitar(GGuitar);
			break;
		case 'H':
			playSampleInstantGuitar(HGuitar);
			break;
		case 'I':
			playSampleInstantGuitar(IGuitar);
			break;
		case 'J':
			playSampleInstantGuitar(JGuitar);
			break;
		case 'K':
			playSampleInstantGuitar(KGuitar);
			break;
		case 'L':
			playSampleInstantGuitar(LGuitar);
			break;
		case 'M':
			playSampleInstantGuitar(MGuitar);
			break;
		case 'N':
			playSampleInstantGuitar(NGuitar);
			break;
		case 'O':
			playSampleInstantGuitar(OGuitar);
			break;
		case 'P':
			playSampleInstantGuitar(PGuitar);
			break;
		case 'R':
			playSampleInstantGuitar(RGuitar);
			break;
		case 'S':
			playSampleInstantGuitar(SGuitar);
			break;
		case 'T':
			playSampleInstantGuitar(TGuitar);
			break;
		case 'U':
			playSampleInstantGuitar(UGuitar);
			break;
		case 'W':
			playSampleInstantGuitar(WGuitar);
			break;
		case 'X':
			playSampleInstantGuitar(XGuitar);
			break;
		case 'Y':
			playSampleInstantGuitar(YGuitar);
			break;
		case 'Z':
			playSampleInstantGuitar(ZGuitar);
			break;
		default:
			console.log('instrument ' + instrument + ' not supported'); 
	}
}

function playFromArrayGuitar() {
	stoppedGuitar = false;
	playRowRecursiveGuitar(0, true);
}

function stopGuitar() {
	stoppedGuitar = true;
}

function clearIndicatorGuitar () {
	for(let i = 0; i < rowsCountGuitar; i++) {
		document.getElementById("rowGuitar" + i + "-current").checked = false;
	}
}

function moveIndicatorGuitar(index) {
	clearIndicatorGuitar();
	document.getElementById("rowGuitar" + index + "-current").checked = true;
}

function playRowRecursiveGuitar(whichRow) {
	if (whichRow >= rowsCountGuitar) {
		if(document.getElementById("loopEnabled").checked) {
			setTimeout(playRowRecursiveGuitar, frameTimeoutGuitar, 0);
		} else {
			clearIndicatorGuitar();
			return true;
		}
	}
	
	moveIndicatorGuitar(whichRow);
	
	let rowValues = getRowValuesGuitar(whichRow, false);
	for(let i = 0; i < rowValues.length; i++) {
		playInstrumentGuitar(rowValues[i]);
	}
	if (!stoppedGuitar) {
		setTimeout(playRowRecursiveGuitar, frameTimeoutGuitar, whichRow + 1);
	} else {
		clearIndicatorGuitar();
		stoppedGuitar = false;
	}
}

function getRowValuesGuitar(row, clearAfterPlay) { // row = ktora kolumna, np. 1, 4..., zwraca co tam jest zaznaczone w postaci np. 'AB', 'C', ''
	let values = '';

	for(let i = 0; i < instrumentsGuitar.length; i++) {
		let selected = document.getElementById("rowGuitar" + row + instrumentsGuitar[i]);
		if (selected.checked) {
			values = values + instrumentsGuitar[i];
		}
		if (clearAfterPlay) {
			selected.checked = false;
		}
	}
	return values;
}

		</script>	