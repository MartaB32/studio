		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano0-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano1-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano2-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano3-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano4-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano5-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano6-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano7-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano8-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano9-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano10-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano11-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano12-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano13-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano14-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano15-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano16-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano17-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano18-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano19-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<br>
		
		<!--pianoroll-->
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano0A" name="rowPiano0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano1A" name="rowPiano1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano2A" name="rowPiano2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano3A" name="rowPiano3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano4A" name="rowPiano4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano5A" name="rowPiano5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano6A" name="rowPiano6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano7A" name="rowPiano7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano8A" name="rowPiano8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano9A" name="rowPiano9A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano10A" name="rowPiano0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano11A" name="rowPiano1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano12A" name="rowPiano2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano13A" name="rowPiano3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano14A" name="rowPiano4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano15A" name="rowPiano5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano16A" name="rowPiano6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano17A" name="rowPiano7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano18A" name="rowPiano8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano19A" name="rowPiano9A"><span class="pianoroll-box-check"></span></label>
		<br>
		
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano0B" name="rowPiano0B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano1B" name="rowPiano1B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano2B" name="rowPiano2B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano3B" name="rowPiano3B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano4B" name="rowPiano4B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano5B" name="rowPiano5B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano6B" name="rowPiano6B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano7B" name="rowPiano7B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano8B" name="rowPiano8B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano9B" name="rowPiano9B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano10B" name="rowPiano0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano11B" name="rowPiano1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano12B" name="rowPiano2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano13B" name="rowPiano3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano14B" name="rowPiano4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano15B" name="rowPiano5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano16B" name="rowPiano6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano17B" name="rowPiano7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano18B" name="rowPiano8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano19B" name="rowPiano9A"><span class="pianoroll-box-check"></span></label>
		<br>
		
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano0C" name="rowPiano0C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano1C" name="rowPiano1C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano2C" name="rowPiano2C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano3C" name="rowPiano3C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano4C" name="rowPiano4C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano5C" name="rowPiano5C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano6C" name="rowPiano6C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano7C" name="rowPiano7C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano8C" name="rowPiano8C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano9C" name="rowPiano9C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano10C" name="rowPiano0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano11C" name="rowPiano1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano12C" name="rowPiano2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano13C" name="rowPiano3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano14C" name="rowPiano4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano15C" name="rowPiano5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano16C" name="rowPiano6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano17C" name="rowPiano7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano18C" name="rowPiano8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowPiano19C" name="rowPiano9A"><span class="pianoroll-box-check"></span></label>
		
		<br>
		<br>
		<button onclick="playFromArrayPiano()">Play</button>
		<button onclick="stopPiano()">Stop</button>
		<input type="checkbox" id="loopEnabled"> Loop
		<br>
		Speed: 
		<button onclick="changeTimePiano()">Set</button>
		<input type="number" id="time" value="500"></input>
				
				
				
	<script>
		function sample_playPiano(samplePiano,timeoutPiano) {
	var audioPiano = new Audio();
	audioPiano.src = samplePiano.src;
	setTimeoutPiano(function() {
		audioPiano.play();
		setTimeoutPiano(function (){samplePiano.currentTime=0;},timeoutPiano);
		console.log(dupaPiano[i]);
	},i*timeoutPiano);
}

var dupaPiano = '';

function onButtonClickPiano(characterPiano) {
	dupaPiano = dupaPiano + characterPiano;
	updateDisplayElementPiano();
}

function removeByIndexPiano(indexPiano) {
	var arrayPiano = dupaPiano.split('');
	arrayPiano.splice(indexPiano, 1);
	dupaPiano = arrayPiano.join('');
}

function onRemoveButtonClickPiano(indexPiano) {
	var indexPiano = document.getElementById("user-input").value;
	removeByIndexPiano(indexPiano);
	updateDisplayElementPiano();
}

function onRemoveLastButtonClickPiano() {
	removeByIndexPiano(dupaPiano.length - 1);
	updateDisplayElementPiano();
}

function updateDisplayElementPiano() {
	document.getElementById("display-object-id").innerHTML = dupaPiano;
}

function onDisplayButtonClickPiano() {
	let samplePiano = document.getElementById("kick");
	let sample1Piano = document.getElementById("snare");
	let sample2Piano = document.getElementById("hat");
	let timeoutPiano = 500;

	for (i = 0; i < dupaPiano.length; ++i) {
		switch (dupaPiano[i]) {
			case 'A':
				sample_playPiano(samplePiano,timeoutPiano);
				break;
			case 'B':
				sample_playPiano(sample1Piano,timeoutPiano);
				break;
			case 'C':
				sample_playPiano(sample2Piano,timeoutPiano);
				break;
			default:
				sample_playPiano
		}
	}
}






frameTimeoutPiano = 500;

stoppedPiano = false;
rowsCountPiano = 20;
instrumentsPiano = 'ABC';
APiano = document.getElementById("kick");
BPiano = document.getElementById("snare");
CPiano = document.getElementById("hat");

function changeTimePiano() {
	let valuePiano = document.getElementById("time").value;
	if (valuePiano <= 10) {
		alert('Value too low');
	} else {
		frameTimeoutPiano = valuePiano;
	}
}

function playSampleInstantPiano(samplePiano) {
	var audioPiano = new Audio();
	audioPiano.src = samplePiano.src;
	audioPiano.playPiano();
}

function playInstrumentPiano(instrumentPiano) {
	switch (instrumentPiano) {
		case 'A':
			playSampleInstantPiano(APiano);
			break;
		case 'B':
			playSampleInstantPiano(BPiano);
			break;
		case 'C':
			playSampleInstantPiano(CPiano);
			break;
		default:
			console.log('instrument ' + instrumentPiano + ' not supported'); 
	}
}

function playFromArrayPiano() {
	stoppedPiano = false;
	playRowRecursivePiano(0, true);
}

function stopPiano() {
	stoppedPiano = true;
}

function clearIndicatorPiano () {
	for(let i = 0; i < rowsCountPiano; i++) {
		document.getElementById("rowPiano" + i + "-current").checked = false;
	}
}

function moveIndicatorPiano(indexPiano) {
	clearIndicatorPiano();
	document.getElementById("rowPiano" + indexPiano + "-current").checked = true;
}

function playRowRecursivePiano(whichRowPiano) {
	if (whichRowPiano >= rowsCountPiano) {
		if(document.getElementById("loopEnabled").checked) {
			setTimeout(playRowRecursivePiano, frameTimeoutPiano, 0);
		} else {
			clearIndicatorPiano();
			return true;
		}
	}
	
	moveIndicatorPiano(whichRowPiano);
	
	let rowValuesPiano = getRowValuesPiano(whichRowPiano, false);
	for(let i = 0; i < rowValuesPiano.length; i++) {
		playInstrumentPiano(rowValuesPiano[i]);
	}
	if (!stoppedPiano) {
		setTimeout(playRowRecursivePiano, frameTimeoutPiano, whichRowPianoPiano + 1);
	} else {
		clearIndicatorPiano();
		stoppedPiano = false;
	}
}

function getRowValuesPiano(rowPiano, clearAfterPlayPiano) { // row = ktora kolumna, np. 1, 4..., zwraca co tam jest zaznaczone w postaci np. 'AB', 'C', ''
	let valuesPiano = '';

	for(let i = 0; i < instrumentsPiano.length; i++) {
		let selectedPiano = document.getElementById("rowPiano" + rowPiano + instrumentsPiano[i]);
		if (selectedPiano.checked) {
			valuesPiano = valuesPiano + instrumentsPiano[i];
		}
		if (clearAfterPlayPiano) {
			selectedPiano.checked = false;
		}
	}
	return valuesPiano;
}

		</script>