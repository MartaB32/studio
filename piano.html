<?php
for($i=0;$i<20;$i++)
{
	echo '<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowPiano'.$i.'-current" disabled><span class="pianoroll-box-check indicator"></span></label>';
}
echo '<br>';

//pianoroll
//65='A'
for($j=65;$j<91;$j++)
{
	for($i=0;$i<20;$i++)
	{
		if($i<10)
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.(string)$j.'" name="rowPiano'.$i.(string)$j.'"><span class="pianoroll-box-check"></span></label>';
		}
		else
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.(string)$j.'" name="rowPiano'.($i-10).'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	echo '<br>';
}

//AA,AB itd.
for($j=65;$j<91;$j++)
{
	for($i=0;$i<20;$i++)
	{
		if($i<10)
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.'A'.(string)$j.'" name="rowPiano'.$i.'A'.(string)$j.'"><span class="pianoroll-box-check"></span></label>';
		}
		else
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.'A'.(string)$j.'" name="rowPiano'.($i-10).'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	echo '<br>';
}

for($j=65;$j<91;$j++)
{
	for($i=0;$i<20;$i++)
	{
		if($i<10)
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.'B'.(string)$j.'" name="rowPiano'.$i.'B'.(string)$j.'"><span class="pianoroll-box-check"></span></label>';
		}
		else
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.'B'.(string)$j.'" name="rowPiano'.($i-10).'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	echo '<br>';
}

for($j=65;$j<84;$j++)
{
	for($i=0;$i<20;$i++)
	{
		if($i<10)
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.'A'.(string)$j.'" name="rowPiano'.$i.'A'.(string)$j.'"><span class="pianoroll-box-check"></span></label>';
		}
		else
		{
			echo '<label class="pianoroll-box"><input type="checkbox" id="rowPiano'.$i.'A'.(string)$j.'" name="rowPiano'.($i-10).'A"><span class="pianoroll-box-check"></span></label>';
		}
	}
	echo '<br>';
}

?>		
		<br>
		<button onclick="playFromArrayPiano()">Play</button>
		<button onclick="stopPiano()">Stop</button>
		<input type="checkbox" id="loopEnabled"> Loop
		<br>
		Speed: 
		<button onclick="changeTimePiano()">Set</button>
		<input type="number" id="time" value="500"></input>
				
					<div style="display:none;">	
	<audio controls id="a1" src="pianoroll/sample/Piano/a1.mp3"></audio>
	<audio controls id="a1up" src="pianoroll/sample/Piano/a1up.mp3"></audio>
	<audio controls id="a2" src="pianoroll/sample/Piano/a2.mp3"></audio>	
	<audio controls id="a2up" src="pianoroll/sample/Piano/a2up.mp3"></audio>	
	<audio controls id="a3" src="pianoroll/sample/Piano/a3.mp3"></audio>
	<audio controls id="a3up" src="pianoroll/sample/Piano/a3up.mp3"></audio>
	<audio controls id="a4" src="pianoroll/sample/Piano/a4.mp3"></audio>	
	<audio controls id="a4up" src="pianoroll/sample/Piano/a4up.mp3"></audio>	
	<audio controls id="a5" src="pianoroll/sample/Piano/a5.mp3"></audio>
	<audio controls id="a5up" src="pianoroll/sample/Piano/a5up.mp3"></audio>
	<audio controls id="a6" src="pianoroll/sample/Piano/a6.mp3"></audio>
	<audio controls id="a6up" src="pianoroll/sample/Piano/a6up.mp3"></audio>
	<audio controls id="a7" src="pianoroll/sample/Piano/a7.mp3"></audio>
	<audio controls id="a7up" src="pianoroll/sample/Piano/a7up.mp3"></audio>
	<audio controls id="a8" src="pianoroll/sample/Piano/a8.mp3"></audio>	
	<audio controls id="a8up" src="pianoroll/sample/Piano/a8up.mp3"></audio>
	<audio controls id="b1" src="pianoroll/sample/Piano/b1.mp3"></audio>
	<audio controls id="b2" src="pianoroll/sample/Piano/b2.mp3"></audio>	
	<audio controls id="b3" src="pianoroll/sample/Piano/b3.mp3"></audio>
	<audio controls id="b4" src="pianoroll/sample/Piano/b4.mp3"></audio>
	<audio controls id="b5" src="pianoroll/sample/Piano/b5.mp3"></audio>
	<audio controls id="b6" src="pianoroll/sample/Piano/b6.mp3"></audio>
	<audio controls id="b7" src="pianoroll/sample/Piano/b7.mp3"></audio>
	<audio controls id="b8" src="pianoroll/sample/Piano/b8.mp3"></audio>
	<audio controls id="c2" src="pianoroll/sample/Piano/c2.mp3"></audio>	
	<audio controls id="c2up" src="pianoroll/sample/Piano/c2up.mp3"></audio>
	<audio controls id="c3" src="pianoroll/sample/Piano/c3.mp3"></audio>
	<audio controls id="c3up" src="pianoroll/sample/Piano/c3up.mp3"></audio>	
	<audio controls id="c4" src="pianoroll/sample/Piano/c4.mp3"></audio>
	<audio controls id="c4up" src="pianoroll/sample/Piano/c4up.mp3"></audio>
	<audio controls id="c5" src="pianoroll/sample/Piano/c5.mp3"></audio>
	<audio controls id="c5up" src="pianoroll/sample/Piano/c5up.mp3"></audio>
	<audio controls id="c6" src="pianoroll/sample/Piano/c6.mp3"></audio>
	<audio controls id="c6up" src="pianoroll/sample/Piano/c6up.mp3"></audio>
	<audio controls id="c7" src="pianoroll/sample/Piano/c7.mp3"></audio>	
	<audio controls id="c7up" src="pianoroll/sample/Piano/c7up.mp3"></audio>
	<audio controls id="c8" src="pianoroll/sample/Piano/c8.mp3"></audio>
	<audio controls id="c8up" src="pianoroll/sample/Piano/c8up.mp3"></audio>	
	<audio controls id="d2" src="pianoroll/sample/Piano/d2.mp3"></audio>
	<audio controls id="d2up" src="pianoroll/sample/Piano/d2up.mp3"></audio>
	<audio controls id="d3" src="pianoroll/sample/Piano/d3.mp3"></audio>
	<audio controls id="d3up" src="pianoroll/sample/Piano/d3up.mp3"></audio>
	<audio controls id="d4" src="pianoroll/sample/Piano/d4.mp3"></audio>
	<audio controls id="d4up" src="pianoroll/sample/Piano/d4up.mp3"></audio>
	<audio controls id="d5" src="pianoroll/sample/Piano/d5.mp3"></audio>	
	<audio controls id="d5up" src="pianoroll/sample/Piano/d5up.mp3"></audio>
	<audio controls id="d6" src="pianoroll/sample/Piano/d6.mp3"></audio>
	<audio controls id="d6up" src="pianoroll/sample/Piano/d6up.mp3"></audio>	
	<audio controls id="d7" src="pianoroll/sample/Piano/d7.mp3"></audio>
	<audio controls id="d7up" src="pianoroll/sample/Piano/d7up.mp3"></audio>
	<audio controls id="d8" src="pianoroll/sample/Piano/d8.mp3"></audio>
	<audio controls id="d8up" src="pianoroll/sample/Piano/d8up.mp3"></audio>
	<audio controls id="e2" src="pianoroll/sample/Piano/e2.mp3"></audio>
	<audio controls id="e3" src="pianoroll/sample/Piano/e3.mp3"></audio>
	<audio controls id="e4" src="pianoroll/sample/Piano/e4.mp3"></audio>	
	<audio controls id="e5" src="pianoroll/sample/Piano/e5.mp3"></audio>
	<audio controls id="e6" src="pianoroll/sample/Piano/e6.mp3"></audio>
	<audio controls id="e7" src="pianoroll/sample/Piano/e7.mp3"></audio>	
	<audio controls id="e8" src="pianoroll/sample/Piano/e8.mp3"></audio>
	<audio controls id="f2" src="pianoroll/sample/Piano/f2.mp3"></audio>
	<audio controls id="f2up" src="pianoroll/sample/Piano/f2up.mp3"></audio>
	<audio controls id="f3" src="pianoroll/sample/Piano/f3.mp3"></audio>
	<audio controls id="f3up" src="pianoroll/sample/Piano/f3up.mp3"></audio>
	<audio controls id="f4" src="pianoroll/sample/Piano/f4.mp3"></audio>
	<audio controls id="f4up" src="pianoroll/sample/Piano/f4up.mp3"></audio>	
	<audio controls id="f5" src="pianoroll/sample/Piano/f5.mp3"></audio>
	<audio controls id="f5up" src="pianoroll/sample/Piano/f5up.mp3"></audio>
	<audio controls id="f6" src="pianoroll/sample/Piano/f6.mp3"></audio>	
	<audio controls id="f6up" src="pianoroll/sample/Piano/f6up.mp3"></audio>
	<audio controls id="f7" src="pianoroll/sample/Piano/f7.mp3"></audio>
	<audio controls id="f7up" src="pianoroll/sample/Piano/f7up.mp3"></audio>
	<audio controls id="f8" src="pianoroll/sample/Piano/f8.mp3"></audio>
	<audio controls id="f8up" src="pianoroll/sample/Piano/f8up.mp3"></audio>
	<audio controls id="g1" src="pianoroll/sample/Piano/g1.mp3"></audio>
	<audio controls id="g1up" src="pianoroll/sample/Piano/g1up.mp3"></audio>	
	<audio controls id="g2" src="pianoroll/sample/Piano/g2.mp3"></audio>
	<audio controls id="g2up" src="pianoroll/sample/Piano/g2up.mp3"></audio>
	<audio controls id="g3" src="pianoroll/sample/Piano/g3.mp3"></audio>	
	<audio controls id="g3up" src="pianoroll/sample/Piano/g3up.mp3"></audio>
	<audio controls id="g4" src="pianoroll/sample/Piano/g4.mp3"></audio>
	<audio controls id="g4up" src="pianoroll/sample/Piano/g4up.mp3"></audio>
	<audio controls id="g5" src="pianoroll/sample/Piano/g5.mp3"></audio>
	<audio controls id="g5up" src="pianoroll/sample/Piano/g5up.mp3"></audio>
	<audio controls id="g6" src="pianoroll/sample/Piano/g6.mp3"></audio>
	<audio controls id="g6up" src="pianoroll/sample/Piano/g6up.mp3"></audio>	
	<audio controls id="g7" src="pianoroll/sample/Piano/g7.mp3"></audio>
	<audio controls id="g7up" src="pianoroll/sample/Piano/g7up.mp3"></audio>
	<audio controls id="g8" src="pianoroll/sample/Piano/g8.mp3"></audio>	
	<audio controls id="g8up" src="pianoroll/sample/Piano/g8up.mp3"></audio>
	</div>	
				
	<script>
		function sample_playPiano(sample,timeout) {
	var audio = new Audio();
	audio.src = sample.src;
	setTimeout(function() {
		audio.play();
		setTimeout(function (){sample.currentTime=0;},timeout);
		console.log(dupaPiano.split(';')[i]);
	},i*timeout);
}

var dupaPiano = '';

function onButtonClickPiano(character) {
	dupaPiano = dupaPiano + character + ';';
	updateDisplayElementPiano();
}

function removeByIndexPiano(index) {
	var array = dupaPiano.split(';');
	array.splice(index, 1);
	dupaPiano = array.join(';');
}

function onRemoveButtonClickPiano(index) {
	var index = document.getElementById("user-input").value;
	removeByIndexPiano(index);
	updateDisplayElementPiano();
}

function onRemoveLastButtonClickPiano() {
	removeByIndexPiano(dupaPiano.split(';').length - 1);
	updateDisplayElementPiano();
}

function updateDisplayElementPiano() {
	document.getElementById("display-object-id").innerHTML = dupaPiano;
}

function onDisplayButtonClickPiano() {
	let sample = document.getElementById("a1");
	let sample1 = document.getElementById("a1up");
	let sample2 = document.getElementById("a2");
	let sample3 = document.getElementById("a2up");
	let sample4 = document.getElementById("a3");
	let sample5 = document.getElementById("a3up");
	let sample6 = document.getElementById("a4");
	let sample7 = document.getElementById("a4up");
	let sample8 = document.getElementById("a5");
	let sample9 = document.getElementById("a5up");
	let sample10 = document.getElementById("a6");
	let sample11 = document.getElementById("a6up");
	let sample12 = document.getElementById("a7");
	let sample13 = document.getElementById("a7up");
	let sample14 = document.getElementById("a8");
	let sample15 = document.getElementById("a8up");
	let sample16 = document.getElementById("b1");
	let sample17 = document.getElementById("b2");
	let sample18 = document.getElementById("b3");
	let sample19 = document.getElementById("b4");
	let sample20 = document.getElementById("b5");
	let sample21 = document.getElementById("b6");
	let sample22 = document.getElementById("b7");
	let sample23 = document.getElementById("b8");
	let sample24 = document.getElementById("c2");
	let sample25 = document.getElementById("c2up");
	let sample26 = document.getElementById("c3");
	let sample27 = document.getElementById("c3up");
	let sample28 = document.getElementById("c4");
	let sample29 = document.getElementById("c4up");
	let sample30 = document.getElementById("c5");
	let sample31 = document.getElementById("c5up");
	let sample32 = document.getElementById("c6");
	let sample33 = document.getElementById("c6up");
	let sample34 = document.getElementById("c7");
	let sample35 = document.getElementById("c7up");
	let sample36 = document.getElementById("c8");
	let sample37 = document.getElementById("c8up");
	let sample38 = document.getElementById("d2");
	let sample39 = document.getElementById("d2up");
	let sample40 = document.getElementById("d3");
	let sample41 = document.getElementById("d3up");
	let sample42 = document.getElementById("d4");
	let sample43 = document.getElementById("d4up");
	let sample44 = document.getElementById("d5");
	let sample45 = document.getElementById("d5up");
	let sample46 = document.getElementById("d6");
	let sample47 = document.getElementById("d6up");
	let sample48 = document.getElementById("d7");
	let sample49 = document.getElementById("d7up");
	let sample50 = document.getElementById("d8");
	let sample51 = document.getElementById("d8up");
	let sample52 = document.getElementById("e2");
	let sample53 = document.getElementById("e3");
	let sample54 = document.getElementById("e4");
	let sample55 = document.getElementById("e5");
	let sample56 = document.getElementById("e6");
	let sample57 = document.getElementById("e7");
	let sample58 = document.getElementById("e8");
	let sample59 = document.getElementById("f2");
	let sample60 = document.getElementById("f2up");
	let sample61 = document.getElementById("f3");
	let sample62 = document.getElementById("f3up");
	let sample63 = document.getElementById("f4");
	let sample64 = document.getElementById("f4up");
	let sample65 = document.getElementById("f5");
	let sample66 = document.getElementById("f5up");
	let sample67 = document.getElementById("f6");
	let sample68 = document.getElementById("f6up");
	let sample69 = document.getElementById("f7");
	let sample70 = document.getElementById("f7up");
	let sample71 = document.getElementById("f8");
	let sample72 = document.getElementById("f8up");
	let sample73 = document.getElementById("g1");
	let sample74 = document.getElementById("g1up");
	let sample75 = document.getElementById("g2");
	let sample76 = document.getElementById("g2up");
	let sample77 = document.getElementById("g3");
	let sample78 = document.getElementById("g3up");
	let sample79 = document.getElementById("g4");
	let sample80 = document.getElementById("g4up");
	let sample81 = document.getElementById("g5");
	let sample82 = document.getElementById("g5up");
	let sample83 = document.getElementById("g6");
	let sample84 = document.getElementById("g6up");
	let sample85 = document.getElementById("g7");
	let sample86 = document.getElementById("g7up");
	let sample87 = document.getElementById("g8");
	let sample88 = document.getElementById("g8up");
	let timeout = 500;
	
	let dupaArray = dupaPiano.split(';');
	for (i = 0; i < dupaArray.length; ++i) {
		switch (dupaArray[i]) {
			case 'A':
				sample_play(sample,timeout);
				break;
			case 'B':
				sample_play(sample1,timeout);
				break;
			case 'C':
				sample_play(sample2,timeout);
				break;
			case 'D':
				sample_play(sample3,timeout);
				break;
			case 'E':
				sample_play(sample4,timeout);
				break;
			case 'F':
				sample_play(sample5,timeout);
				break;
			case 'G':
				sample_play(sample6,timeout);
				break;
			case 'H':
				sample_play(sample7,timeout);
				break;
			case 'I':
				sample_play(sample8,timeout);
				break;
			case 'J':
				sample_play(sample9,timeout);
				break;
			case 'K':
				sample_play(sample10,timeout);
				break;
			case 'L':
				sample_play(sample11,timeout);
				break;
			case 'M':
				sample_play(sample12,timeout);
				break;
			case 'N':
				sample_play(sample13,timeout);
				break;
			case 'O':
				sample_play(sample14,timeout);
				break;
			case 'P':
				sample_play(sample15,timeout);
				break;
			case 'R':
				sample_play(sample16,timeout);
				break;
			case 'S':
				sample_play(sample17,timeout);
				break;
			case 'T':
				sample_play(sample18,timeout);
				break;
			case 'U':
				sample_play(sample19,timeout);
				break;
			case 'W':
				sample_play(sample20,timeout);
				break;
			case 'X':
				sample_play(sample21,timeout);
				break;
			case 'Y':
				sample_play(sample22,timeout);
				break;
			case 'Z':
				sample_play(sample23,timeout);
				break;
			case 'AA':
				sample_play(sample24,timeout);
				break;
			case 'AB':
				sample_play(sample25,timeout);
				break;
			case 'AC':
				sample_play(sample26,timeout);
				break;
			case 'AD':
				sample_play(sample27,timeout);
				break;
			case 'AE':
				sample_play(sample28,timeout);
				break;
			case 'AF':
				sample_play(sample29,timeout);
				break;
			case 'AG':
				sample_play(sample30,timeout);
				break;		
			case 'AH':
				sample_play(sample31,timeout);
				break;
			case 'AI':
				sample_play(sample32,timeout);
				break;
			case 'AJ':
				sample_play(sample33,timeout);
				break;
			case 'AK':
				sample_play(sample34,timeout);
				break;
			case 'AL':
				sample_play(sample35,timeout);
				break;
			case 'AM':
				sample_play(sample36,timeout);
				break;
			case 'AN':
				sample_play(sample37,timeout);
				break;
			case 'AO':
				sample_play(sample38,timeout);
				break;
			case 'AP':
				sample_play(sample39,timeout);
				break;
			case 'AR':
				sample_play(sample40,timeout);
				break;
			case 'AS':
				sample_play(sample41,timeout);
				break;
			case 'AT':
				sample_play(sample42,timeout);
				break;
			case 'AU':
				sample_play(sample43,timeout);
				break;
			case 'AW':
				sample_play(sample44,timeout);
				break;
			case 'AX':
				sample_play(sample45,timeout);
				break;
			case 'AY':
				sample_play(sample46,timeout);
				break;
			case 'AZ':
				sample_play(sample47,timeout);
				break;
			case 'BA':
				sample_play(sample48,timeout);
				break;
			case 'BB':
				sample_play(sample49,timeout);
				break;
			case 'BC':
				sample_play(sample50,timeout);
				break;
			case 'BD':
				sample_play(sample51,timeout);
				break;
			case 'BE':
				sample_play(sample52,timeout);
				break;
			case 'BF':
				sample_play(sample53,timeout);
				break;
			case 'BG':
				sample_play(sample54,timeout);
				break;
			case 'BH':
				sample_play(sample55,timeout);
				break;
			case 'BI':
				sample_play(sample56,timeout);
				break;
			case 'BJ':
				sample_play(sample57,timeout);
				break;
			case 'BK':
				sample_play(sample58,timeout);
				break;
			case 'BL':
				sample_play(sample59,timeout);
				break;
			case 'BM':
				sample_play(sample60,timeout);
				break;
			case 'BN':
				sample_play(sample61,timeout);
				break;			
			case 'BO':
				sample_play(sample62,timeout);
				break;
			case 'BP':
				sample_play(sample63,timeout);
				break;
			case 'BR':
				sample_play(sample64,timeout);
				break;
			case 'BS':
				sample_play(sample65,timeout);
				break;
			case 'BT':
				sample_play(sample66,timeout);
				break;
			case 'BU':
				sample_play(sample67,timeout);
				break;
			case 'BW':
				sample_play(sample68,timeout);
				break;
			case 'BX':
				sample_play(sample69,timeout);
				break;
			case 'BY':
				sample_play(sample70,timeout);
				break;
			case 'BZ':
				sample_play(sample71,timeout);
				break;
			case 'CA':
				sample_play(sample72,timeout);
				break;
			case 'CB':
				sample_play(sample73,timeout);
				break;
			case 'CC':
				sample_play(sample74,timeout);
				break;
			case 'CD':
				sample_play(sample75,timeout);
				break;
			case 'CE':
				sample_play(sample76,timeout);
				break;
			case 'CF':
				sample_play(sample77,timeout);
				break;
			case 'CG':
				sample_play(sample78,timeout);
				break;
			case 'CH':
				sample_play(sample79,timeout);
				break;
			case 'CI':
				sample_play(sample80,timeout);
				break;
			case 'CJ':
				sample_play(sample81,timeout);
				break;
			case 'CK':
				sample_play(sample82,timeout);
				break;
			case 'CL':
				sample_play(sample83,timeout);
				break;
			case 'CM':
				sample_play(sample84,timeout);
				break;
			case 'CN':
				sample_play(sample85,timeout);
				break;
			case 'CO':
				sample_play(sample86,timeout);
				break;
			case 'CP':
				sample_play(sample87,timeout);
				break;
			case 'CR':
				sample_play(sample88,timeout);
				break;
			default:
				sample_play
		}
	}
}






frameTimeoutPiano = 500;

stoppedPiano = false;
rowsCountPiano = 20;
instrumentsPiano = 'A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;R;S;T;U;W;X;Y;Z;AA;AB;AC;AD;AE;AF;AG;AH;AI;AJ;AK;AL;AM;AN;AO;AP;AR;AS;AT;AU;AW;AX;AY;AZ;BA;BB;BC;BD;BE;BF;BG;BH;BI;BJ;BK;BL;BM;BN;BO;BP;BR;BS;BT;BU;BW;BX;BY;BZ;CA;CB;CC;CD;CE;CF;CG;CH;CI;CJ;CK;CL;CM;CN;CO;CP;CR';
APiano = document.getElementById("a1");
BPiano = document.getElementById("a1up");
CPiano = document.getElementById("a2");
DPiano = document.getElementById("a2up");
EPiano = document.getElementById("a3");
FPiano = document.getElementById("a3up");
GPiano = document.getElementById("a4");
HPiano = document.getElementById("a4up");
IPiano = document.getElementById("a5");
JPiano = document.getElementById("a5up");
KPiano = document.getElementById("a6");
LPiano = document.getElementById("a6up");
MPiano = document.getElementById("a7");
NPiano = document.getElementById("a7up");
OPiano = document.getElementById("a8");
PPiano = document.getElementById("a8up");
RPiano = document.getElementById("b1");
SPiano = document.getElementById("b2");
TPiano = document.getElementById("b3");
UPiano = document.getElementById("b4");
WPiano = document.getElementById("b5");
XPiano = document.getElementById("b6");
YPiano = document.getElementById("b7");
ZPiano = document.getElementById("b8");
AAPiano = document.getElementById("c2");
ABPiano = document.getElementById("c2up");
ACPiano = document.getElementById("c3");
ADPiano = document.getElementById("c3up");
AEPiano = document.getElementById("c4");
AFPiano = document.getElementById("c4up");
AGPiano = document.getElementById("c5");
AHPiano = document.getElementById("c5up");
AIPiano = document.getElementById("c6");
AJPiano = document.getElementById("c6up");
AKPiano = document.getElementById("c7");
ALPiano = document.getElementById("c7up");
AMPiano = document.getElementById("c8");
ANPiano = document.getElementById("c8up");
AOPiano = document.getElementById("d2");
APPiano = document.getElementById("d2up");
ARPiano = document.getElementById("d3");
ASPiano = document.getElementById("d3up");
ATPiano = document.getElementById("d4");
AUPiano = document.getElementById("d4up");
AWPiano = document.getElementById("d5");
AXPiano = document.getElementById("d5up");
AYPiano = document.getElementById("d6");
AZPiano = document.getElementById("d6up");
BAPiano = document.getElementById("d7");
BBPiano = document.getElementById("d7up");
BCPiano = document.getElementById("d8");
BDPiano = document.getElementById("d8up");
BEPiano = document.getElementById("e2");
BFPiano = document.getElementById("e3");
BGPiano = document.getElementById("e4");
BHPiano = document.getElementById("e5");
BIPiano = document.getElementById("e6");
BJPiano = document.getElementById("e7");
BKPiano = document.getElementById("e8");
BLPiano = document.getElementById("f2");
BMPiano = document.getElementById("f2up");
BNPiano = document.getElementById("f3");
BOPiano = document.getElementById("f3up");
BPPiano = document.getElementById("f4");
BRPiano = document.getElementById("f4up");
BSPiano = document.getElementById("f5");
BTPiano = document.getElementById("f5up");
BUPiano = document.getElementById("f6");
BWPiano = document.getElementById("f6up");
BXPiano = document.getElementById("f7");
BYPiano = document.getElementById("f7up");
BZPiano = document.getElementById("f8");
CAPiano = document.getElementById("f8up");
CBPiano = document.getElementById("g1");
CCPiano = document.getElementById("g1up");
CDPiano = document.getElementById("g2");
CEPiano = document.getElementById("g2up");
CFPiano = document.getElementById("g3");
CGPiano = document.getElementById("g3up");
CHPiano = document.getElementById("g4");
CIPiano = document.getElementById("g4up");
CJPiano = document.getElementById("g5");
CKPiano = document.getElementById("g5up");
CLPiano = document.getElementById("g6");
CMPiano = document.getElementById("g6up");
CNPiano = document.getElementById("g7");
COPiano = document.getElementById("g7up");
CPPiano = document.getElementById("g8");
CRPiano = document.getElementById("g8up");

function changeTimePiano() {
	let value = document.getElementById("time").value;
	if (value <= 10) {
		alert('Value too low');
	} else {
		frameTimeoutPiano = value;
	}
}

function playSampleInstantPiano(sample) {
	var audio = new Audio();
	audio.src = sample.src;
	audio.play();
}

function playInstrumentPiano(instrument) {
	switch (instrument) {
		case 'A':
				playSampleInstantPiano(APiano);
				break;
			case 'B':
				playSampleInstantPiano(BPiano);
				break;
			case 'C':
				playSampleInstantPiano(CPiano);
				break;
			case 'D':
				playSampleInstantPiano(DPiano);
				break;
			case 'E':
				playSampleInstantPiano(EPiano);
				break;
			case 'F':
				playSampleInstantPiano(FPiano);
				break;
			case 'G':
				playSampleInstantPiano(GPiano);
				break;
			case 'H':
				playSampleInstantPiano(HPiano);
				break;
			case 'I':
				playSampleInstantPiano(IPiano);
				break;
			case 'J':
				playSampleInstantPiano(JPiano);
				break;
			case 'K':
				playSampleInstantPiano(KPiano);
				break;
			case 'L':
				playSampleInstantPiano(LPiano);
				break;
			case 'M':
				playSampleInstantPiano(MPiano);
				break;
			case 'N':
				playSampleInstantPiano(NPiano);
				break;
			case 'O':
				playSampleInstantPiano(OPiano);
				break;
			case 'P':
				playSampleInstantPiano(PPiano);
				break;
			case 'R':
				playSampleInstantPiano(RPiano);
				break;
			case 'S':
				playSampleInstantPiano(SPiano);
				break;
			case 'T':
				playSampleInstantPiano(TPiano);
				break;
			case 'U':
				playSampleInstantPiano(UPiano);
				break;
			case 'W':
				playSampleInstantPiano(WPiano);
				break;
			case 'X':
				playSampleInstantPiano(XPiano);
				break;
			case 'Y':
				playSampleInstantPiano(YPiano);
				break;
			case 'Z':
				playSampleInstantPiano(ZPiano);
				break;
			case 'AA':
				playSampleInstantPiano(AAPiano);
				break;
			case 'AB':
				playSampleInstantPiano(ABPiano);
				break;
			case 'AC':
				playSampleInstantPiano(ACPiano);
				break;
			case 'AD':
				playSampleInstantPiano(ADPiano);
				break;
			case 'AE':
				playSampleInstantPiano(AEPiano);
				break;
			case 'AF':
				playSampleInstantPiano(AFPiano);
				break;
			case 'AG':
				playSampleInstantPiano(AGPiano);
				break;		
			case 'AH':
				playSampleInstantPiano(AHPiano);
				break;
			case 'AI':
				playSampleInstantPiano(AIPiano);
				break;
			case 'AJ':
				playSampleInstantPiano(AJPiano);
				break;
			case 'AK':
				playSampleInstantPiano(AKPiano);
				break;
			case 'AL':
				playSampleInstantPiano(ALPiano);
				break;
			case 'AM':
				playSampleInstantPiano(AMPiano);
				break;
			case 'AN':
				playSampleInstantPiano(ANPiano);
				break;
			case 'AO':
				playSampleInstantPiano(AOPiano);
				break;
			case 'AP':
				playSampleInstantPiano(APPiano);
				break;
			case 'AR':
				playSampleInstantPiano(ARPiano);
				break;
			case 'AS':
				playSampleInstantPiano(ASPiano);
				break;
			case 'AT':
				playSampleInstantPiano(ATPiano);
				break;
			case 'AU':
				playSampleInstantPiano(AUPiano);
				break;
			case 'AW':
				playSampleInstantPiano(AWPiano);
				break;
			case 'AX':
				playSampleInstantPiano(AXPiano);
				break;
			case 'AY':
				playSampleInstantPiano(AYPiano);
				break;
			case 'AZ':
				playSampleInstantPiano(AZPiano);
				break;
			case 'BA':
				playSampleInstantPiano(BAPiano);
				break;
			case 'BB':
				playSampleInstantPiano(BBPiano);
				break;
			case 'BC':
				playSampleInstantPiano(BCPiano);
				break;
			case 'BD':
				playSampleInstantPiano(BDPiano);
				break;
			case 'BE':
				playSampleInstantPiano(BEPiano);
				break;
			case 'BF':
				playSampleInstantPiano(BFPiano);
				break;
			case 'BG':
				playSampleInstantPiano(BGPiano);
				break;
			case 'BH':
				playSampleInstantPiano(BHPiano);
				break;
			case 'BI':
				playSampleInstantPiano(BIPiano);
				break;
			case 'BJ':
				playSampleInstantPiano(BJPiano);
				break;
			case 'BK':
				playSampleInstantPiano(BKPiano);
				break;
			case 'BL':
				playSampleInstantPiano(BLPiano);
				break;
			case 'BM':
				playSampleInstantPiano(BMPiano);
				break;
			case 'BN':
				playSampleInstantPiano(BNPiano);
				break;			
			case 'BO':
				playSampleInstantPiano(BOPiano);
				break;
			case 'BP':
				playSampleInstantPiano(BPPiano);
				break;
			case 'BR':
				playSampleInstantPiano(BRPiano);
				break;
			case 'BS':
				playSampleInstantPiano(BSPiano);
				break;
			case 'BT':
				playSampleInstantPiano(BTPiano);
				break;
			case 'BU':
				playSampleInstantPiano(BUPiano);
				break;
			case 'BW':
				playSampleInstantPiano(BWPiano);
				break;
			case 'BX':
				playSampleInstantPiano(BXPiano);
				break;
			case 'BY':
				playSampleInstantPiano(BYPiano);
				break;
			case 'BZ':
				playSampleInstantPiano(BZPiano);
				break;
			case 'CA':
				playSampleInstantPiano(CAPiano);
				break;
			case 'CB':
				playSampleInstantPiano(CBPiano);
				break;
			case 'CC':
				playSampleInstantPiano(CCPiano);
				break;
			case 'CD':
				playSampleInstantPiano(CDPiano);
				break;
			case 'CE':
				playSampleInstantPiano(CEPiano);
				break;
			case 'CF':
				playSampleInstantPiano(CFPiano);
				break;
			case 'CG':
				playSampleInstantPiano(CGPiano);
				break;
			case 'CH':
				playSampleInstantPiano(CHPiano);
				break;
			case 'CI':
				playSampleInstantPiano(CIPiano);
				break;
			case 'CJ':
				playSampleInstantPiano(CJPiano);
				break;
			case 'CK':
				playSampleInstantPiano(CKPiano);
				break;
			case 'CL':
				playSampleInstantPiano(CLPiano);
				break;
			case 'CM':
				playSampleInstantPiano(CMPiano);
				break;
			case 'CN':
				playSampleInstantPiano(CNPiano);
				break;
			case 'CO':
				playSampleInstantPiano(COPiano);
				break;
			case 'CP':
				playSampleInstantPiano(CPPiano);
				break;
			case 'CR':
				playSampleInstantPiano(CRPiano);
				break;
		default:
			console.log('instrument ' + instrument + ' not supported'); 
	}
}

function playFromArrayPiano() {
	stoppedPiano = false;
	playRowRecursivePiano(0, true);
}

function stopPiano() {
	stoppedPiano = true;
}

function clearIndicatorPiano () {
	for(let i = 0; i < rowsCountPiano; i++) {
		document.getElementById("rowPiano" + i + "-current").checked = false;
	}
}

function moveIndicatorPiano(index) {
	clearIndicatorPiano();
	document.getElementById("rowPiano" + index + "-current").checked = true;
}

function playRowRecursivePiano(whichRow) {
	if (whichRow >= rowsCountPiano) {
		if(document.getElementById("loopEnabled").checked) {
			setTimeout(playRowRecursivePiano, frameTimeoutPiano, 0);
		} else {
			clearIndicatorPiano();
			return true;
		}
	}
	
	moveIndicatorPiano(whichRow);
	
	let rowValues = getRowValuesPiano(whichRow, false);
	for(let i = 0; i < rowValues.length; i++) {
		playInstrumentPiano(rowValues[i]);
	}
	if (!stoppedPiano) {
		setTimeout(playRowRecursivePiano, frameTimeoutPiano, whichRow + 1);
	} else {
		clearIndicatorPiano();
		stoppedPiano = false;
	}
}

function getRowValuesPiano(row, clearAfterPlay) { // row = ktora kolumna, np. 1, 4..., zwraca co tam jest zaznaczone w postaci np. 'AB', 'C', ''
	let values = '';
	let instrumentsPianoTmp = instrumentsPiano.split(';');
	for(let i = 0; i < instrumentsPianoTmp.length; i++) {
		let selected = document.getElementById("rowPiano" + row + instrumentsPianoTmp[i]);
		console.log('selected 111', selected);
		if (selected.checked) {
			values = values + instrumentsPianoTmp[i];
		}
		if (clearAfterPlay) {
			selected.checked = false;
		}
	}
	return values;
}

		</script>