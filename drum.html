		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum0-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum1-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum2-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum3-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum4-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum5-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum6-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum7-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum8-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum9-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum10-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum11-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum12-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum13-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum14-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum15-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum16-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum17-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum18-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<label class="pianoroll-box indicator-box"><input type="checkbox" id="rowDrum19-current" disabled><span class="pianoroll-box-check indicator"></span></label>
		<br>
		
		<!--pianoroll-->
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum0A" name="row0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum1A" name="row1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum2A" name="row2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum3A" name="row3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum4A" name="row4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum5A" name="row5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum6A" name="row6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum7A" name="row7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum8A" name="row8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum9A" name="row9A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum10A" name="row0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum11A" name="row1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum12A" name="row2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum13A" name="row3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum14A" name="row4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum15A" name="row5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum16A" name="row6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum17A" name="row7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum18A" name="row8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum19A" name="row9A"><span class="pianoroll-box-check"></span></label>
		<br>
		
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum0B" name="row0B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum1B" name="row1B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum2B" name="row2B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum3B" name="row3B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum4B" name="row4B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum5B" name="row5B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum6B" name="row6B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum7B" name="row7B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum8B" name="row8B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum9B" name="row9B"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum10B" name="row0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum11B" name="row1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum12B" name="row2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum13B" name="row3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum14B" name="row4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum15B" name="row5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum16B" name="row6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum17B" name="row7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum18B" name="row8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum19B" name="row9A"><span class="pianoroll-box-check"></span></label>
		<br>
		
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum0C" name="row0C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum1C" name="row1C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum2C" name="row2C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum3C" name="row3C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum4C" name="row4C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum5C" name="row5C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum6C" name="row6C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum7C" name="row7C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum8C" name="row8C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum9C" name="row9C"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum10C" name="row0A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum11C" name="row1A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum12C" name="row2A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum13C" name="row3A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum14C" name="row4A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum15C" name="row5A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum16C" name="row6A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum17C" name="row7A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum18C" name="row8A"><span class="pianoroll-box-check"></span></label>
		<label class="pianoroll-box"><input type="checkbox" id="rowDrum19C" name="row9A"><span class="pianoroll-box-check"></span></label>
		
		<br>
		<br>
		<button onclick="playFromArray()">Play</button>
		<button onclick="stop()">Stop</button>
		<input type="checkbox" id="loopEnabled"> Loop
		<br>
		Speed: 
		<button onclick="changeTime()">Set</button>
		<input type="number" id="time" value="500"></input>
		
	<script>function sample_play(sample,timeout) {
	var audio = new Audio();
	audio.src = sample.src;
	setTimeout(function() {
		audio.play();
		setTimeout(function (){sample.currentTime=0;},timeout);
		console.log(dupa[i]);
	},i*timeout);
}

var dupa = '';

function onButtonClick(character) {
	dupa = dupa + character;
	updateDisplayElement();
}

function removeByIndex(index) {
	var array = dupa.split('');
	array.splice(index, 1);
	dupa = array.join('');
}

function onRemoveButtonClick(index) {
	var index = document.getElementById("user-input").value;
	removeByIndex(index);
	updateDisplayElement();
}

function onRemoveLastButtonClick() {
	removeByIndex(dupa.length - 1);
	updateDisplayElement();
}

function updateDisplayElement() {
	document.getElementById("display-object-id").innerHTML = dupa;
}

function onDisplayButtonClick() {
	let sample = document.getElementById("kick");
	let sample1 = document.getElementById("snare");
	let sample2 = document.getElementById("hat");
	let timeout = 500;

	for (i = 0; i < dupa.length; ++i) {
		switch (dupa[i]) {
			case 'A':
				sample_play(sample,timeout);
				break;
			case 'B':
				sample_play(sample1,timeout);
				break;
			case 'C':
				sample_play(sample2,timeout);
				break;
			default:
				sample_play
		}
	}
}






frameTimeout = 500;

stopped = false;
rowsCount = 20;
instruments = 'ABC';
A = document.getElementById("kick");
B = document.getElementById("snare");
C = document.getElementById("hat");

function changeTime() {
	let value = document.getElementById("time").value;
	if (value <= 10) {
		alert('Value too low');
	} else {
		frameTimeout = value
	}
}

function playSampleInstant(sample) {
	var audio = new Audio();
	audio.src = sample.src;
	audio.play();
}

function playInstrument(instrument) {
	switch (instrument) {
		case 'A':
			playSampleInstant(A);
			break;
		case 'B':
			playSampleInstant(B);
			break;
		case 'C':
			playSampleInstant(C);
			break;
		default:
			console.log('instrument ' + instrument + ' not supported'); 
	}
}

function playFromArray() {
	stopped = false;
	playRowRecursive(0, true);
}

function stop() {
	stopped = true;
}

function clearIndicator () {
	for(let i = 0; i < rowsCount; i++) {
		document.getElementById("row" + i + "-current").checked = false;
	}
}

function moveIndicator(index) {
	clearIndicator();
	document.getElementById("row" + index + "-current").checked = true;
}

function playRowRecursive(whichRow) {
	if (whichRow >= rowsCount) {
		if(document.getElementById("loopEnabled").checked) {
			setTimeout(playRowRecursive, frameTimeout, 0);
		} else {
			clearIndicator();
			return true;
		}
	}
	
	moveIndicator(whichRow);
	
	let rowValues = getRowValues(whichRow, false);
	for(let i = 0; i < rowValues.length; i++) {
		playInstrument(rowValues[i]);
	}
	if (!stopped) {
		setTimeout(playRowRecursive, frameTimeout, whichRow + 1);
	} else {
		clearIndicator();
		stopped = false;
	}
}

function getRowValues(row, clearAfterPlay) { // row = ktora kolumna, np. 1, 4..., zwraca co tam jest zaznaczone w postaci np. 'AB', 'C', ''
	let values = '';

	for(let i = 0; i < instruments.length; i++) {
		let selected = document.getElementById("row" + row + instruments[i]);
		if (selected.checked) {
			values = values + instruments[i];
		}
		if (clearAfterPlay) {
			selected.checked = false;
		}
	}
	return values;
}

</script>
		